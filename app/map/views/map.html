<div ng-controller="MapController" class="map">

    <link rel="stylesheet" href="assets/css/map.css">
    
    <div class="legend">
        <ul class="legend-list list-unstyled list-inline">
            <li ng-repeat="item in legend" class="legend-item"><img class="legend-img" ng-src="{{item.img}}"/> <span class="legend-text">{{item.text}}</span></li>
        </ul>
    </div>

    <google-map 
        center="map.center" 
        zoom="map.zoom" 
        events="map.events" 
        options="map.options"
        id="map-canvas">
            Loading map...
        <marker ng-repeat="marker in markers" 
            idKey="marker.idKey" 
            coords="marker.coords"
            icon="marker.icon"
            options="marker.options"
            events="marker.events">
            <window ng-if="marker.cafe" isIconVisibleOnClick="marker.window.iconVisible"
                closeClick="marker.window.closeClick"
                options="marker.window.options">
                <div>
                    <h3>{{marker.cafe.name}}</h3>
                    <span>{{marker.cafe.location.address}}</span>
                    <ul class="list-unstyled list-inline">
                        <li><a ng-href="#cafe/{{marker.cafe.id}}"><i class="glyphicon glyphicon-link"></i></a></li>
                    </ul>

                </div>
            </window>
            <window ng-if="!marker.cafe"
                options="mapDefaults.marker.windowOptions">
                <div>
                    <h3>You are here!</h3>
                </div>
            </window>
        </marker>
    </google-map>
</div>