<div ng-controller="MapController" class="map">

    <link rel="stylesheet" href="assets/css/map.css">

    <div class="legend">
        <ul class="legend-list list-unstyled list-inline">
            <li ng-repeat="item in legend" class="legend-item">
                <img class="legend-img" ng-src="{{item.img}}"/>
                <span class="legend-text">{{item.text}}</span>
            </li>
        </ul>
    </div>

    <ui-gmap-google-map 
        center="map.center" 
        zoom="map.zoom" 
        events="map.events" 
        options="map.options"
        id="map-canvas">
        Loading map...
        <ui-gmap-markers 
            models="markers"
            idkey="'idKey'" 
            coords="'coords'"
            icon="'icon'"
            options="'options'"
            events="markerEvents"
            click="onMarkerClick">
        </ui-gmap-markers>

        <ui-gmap-window 
            isIconVisibleOnClick="infoWindow.model.window.iconVisible"
            options="infoWindow.model.window.options"
            coords="infoWindow.model.coords"
            show="infoWindow.show">
            <div>
                <div ng-show="{{infoWindow.model.cafe}}">
                    <h3><a ng-href="#cafe/{{infoWindow.model.cafe.id}}"> {{infoWindow.model.cafe.name}}</a></h3>
                    <span>{{infoWindow.model.cafe.location.address}}</span>
                </div>
                <div ng-show="{{!infoWindow.model.cafe}}">
                    <h3>You are here!</h3>
                    <p>Drag me to seach for cafes in other areas.</p>
                </div>
            </div>
        </ui-gmap-window>
    </ui-gmap-google-map>
</div>